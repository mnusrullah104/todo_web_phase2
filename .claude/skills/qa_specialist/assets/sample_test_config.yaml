# Sample Test Configuration for QA Specialist
base_url: http://localhost:8000
auth_token: your_jwt_token_here

acceptance_criteria:
  # Test 1: Verify basic API connectivity
  - description: "Get all tasks endpoint works"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/tasks"
    expected_status: 200

  # Test 2: Verify unauthorized access protection
  - description: "Unauthorized access to protected endpoint returns 401"
    type: "unauthorized_test"
    method: "GET"
    endpoint: "/api/v1/tasks"

  # Test 3: Verify input validation
  - description: "Input validation for task creation"
    type: "validation_test"
    endpoint: "/api/v1/tasks"
    invalid_payloads:
      - {name: ""}  # Missing required field
      - {name: "a" * 200}  # Too long name
      - {name: "valid_name", priority: "invalid_priority"}  # Invalid enum value

  # Test 4: Verify task creation
  - description: "Create a new task"
    type: "api_test"
    method: "POST"
    endpoint: "/api/v1/tasks"
    expected_status: 201
    payload:
      name: "Test Task"
      description: "A test task"
      priority: "medium"

  # Test 5: Verify task retrieval
  - description: "Retrieve a specific task"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/tasks/1"
    expected_status: 200

  # Test 6: Verify task update
  - description: "Update an existing task"
    type: "api_test"
    method: "PUT"
    endpoint: "/api/v1/tasks/1"
    expected_status: 200
    payload:
      name: "Updated Test Task"
      description: "An updated test task"
      priority: "high"

  # Test 7: Verify task deletion
  - description: "Delete an existing task"
    type: "api_test"
    method: "DELETE"
    endpoint: "/api/v1/tasks/1"
    expected_status: 200

  # Test 8: Verify MCP tool discovery
  - description: "MCP tool discovery endpoint"
    type: "api_test"
    method: "GET"
    endpoint: "/.well-known/mcp/tools"
    expected_status: 200

  # Test 9: Verify MCP tool invocation
  - description: "MCP tool invocation"
    type: "api_test"
    method: "POST"
    endpoint: "/.well-known/mcp/tools/call"
    expected_status: 200
    payload:
      tool: "add_task"
      arguments:
        name: "MCP Test Task"
        description: "Task created via MCP"

  # Test 10: Verify error handling for non-existent resource
  - description: "Access non-existent resource returns 404"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/tasks/999999"
    expected_status: 404

  # Test 11: Verify rate limiting (if implemented)
  - description: "Rate limiting returns 429 when exceeded"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/tasks"
    expected_status: 429
    # This test assumes rate limiting is configured

  # Test 12: Verify JWT token expiration handling
  - description: "Expired JWT token returns 401"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/tasks"
    expected_status: 401
    # This test requires an expired token in the configuration

  # Test 13: Verify server error handling
  - description: "Server error returns 500"
    type: "api_test"
    method: "GET"
    endpoint: "/api/v1/error-test"  # Endpoint that triggers a server error
    expected_status: 500